<tool id="moover_inference" name="Moover-inference" version="1.0.0">
  <description> Automated tracking, segmentation and feature extraction </description>
  <requirements>
    <requirement type="package" version="6.1.0">pillow</requirement>
    <requirement type="package" version="0.14.2">scikit-image</requirement>
  </requirements>
  <command> 
    <![CDATA[
    python '${__tool_directory__}/video/main.py' '$task' '$input_file' 
    #if $Imnfernce_model_selection.single_or_paired=="single" and $param.skip_or_full=="skip"
    '$type_of_reads.input_query'
    '$model_wights' 
    #else 
    '$model_wights' 
    #end if
    '$conf' '${__tool_directory__}' 
    ]]>
  </command>
  <inputs>
    <param format="mp4" name="input_file" type="data" label="Input video"/>
    <param name="task" type="select" label="Task" help="">
      <option value="track">Track</option>
      <option value="segment">Segment</option>
      <option value="box">Box</option>
    </param>
    <conditional name="Imnfernce_model_selection">
      <param name="default_or_custem" type="select" label="Use the default model or a custom model">
        <option value="default">default</option>
        <option value="custom">custem</option>
      </param>
      <when value="default"/>
      <when value="custom">
        <param format="pt" name="model_wights" type="data" label="model_wights"/>
      </when>
    </conditional>
    <param name="conf" value="50.0" type="float" min="0" max="100" label="Percentage" help="Between 0 and 100, e.g. 50%"/>
  </inputs>
  <outputs>
    <data format="csv" name="output_file" from_work_dir="output.csv"/>
    <data format="mp4" name="output_video" from_work_dir="output_video.mp4"/>
  </outputs>
  <tests>
    <test>
      <!-- -->
    </test>
  </tests>
  <help>
     hellp bed_to_bigBed
  </help>
  <citations>
    <citation type="doi">10.1371/journal.pcbi.1000386</citation>
  </citations>
</tool>
